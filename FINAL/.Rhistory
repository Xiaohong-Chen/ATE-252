)
qplot(data =counts, geom="boxplot",x=crash_lighting, y=as.integer(counts$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
recount <- counts[which(counts$crash_count<20)]
recount <- counts[which(counts$crash_count<20)]
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(counts$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
recount <- counts[which(counts$crash_count<20),]
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(counts$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
recount <- counts[which(as.integer(counts$crash_count)<20),]
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(counts$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
which(counts$crash_count<20)
recount <- counts[which(counts$crash_count<20),]
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(counts$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
View(recount)
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(recount$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
recount <- counts[which(counts$crash_count<10),]
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(recount$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
recount <- counts[which(counts$crash_count<5),]
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(recount$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
library(sf) # spatial data manipulation
library(data.table) # fast data manipulation
library("ggplot2")
library(sf) # spatial data manipulation
library(data.table) # fast data manipulation
library("ggplot2")
segments <- st_read("shp/traffic/traffic.shp") # all st_* functions are from the sf package
segments$id <- 1:nrow(segments) # assign a unique identifier for each segment
crashes <- list()
for(year in as.character(2012:2016)) {
crashes[[year]] <- fread(paste0("data/Statewide_", year, "/CRASH_", year, "_Statewide.csv"))
}
crashes <- rbindlist(crashes)
crashes <- crashes[which(crashes$ILLUMINATION %in% c(2, 3)),]
crashes$crash_lighting = ifelse(crashes$ILLUMINATION == 2,"nolight" , "light")
naLongRowsToRemove = which(is.na(crashes$DEC_LONG))
crashes <- crashes[-naLongRowsToRemove,]
naLatRowsToRemove = which(is.na(crashes$DEC_LAT))
crashes <- crashes[-naLatRowsToRemove,]
crashes <- st_as_sf(crashes, coords = c("DEC_LONG", "DEC_LAT"), crs = 4326) # create sf spatial object
segments <- st_read("shp/traffic/traffic.shp") # all st_* functions are from the sf package
segments$id <- 1:nrow(segments) # assign a unique identifier for each segment
crashes <- list()
for(year in as.character(2012:2016)) {
crashes[[year]] <- fread(paste0("data/Statewide_", year, "/CRASH_", year, "_Statewide.csv"))
}
crashes <- rbindlist(crashes)
crashes <- crashes[which(crashes$ILLUMINATION %in% c(2, 3)),]
crashes$crash_lighting = ifelse(crashes$ILLUMINATION == 2,"nolight" , "light")
crashes <- crashes[ILLUMINATION %in% c(2, 3)]
crashes <- st_as_sf(crashes, coords = c("DEC_LONG", "DEC_LAT"), crs = 4326) # create sf spatial object
library(sf) # spatial data manipulation
library(data.table) # fast data manipulation
library("ggplot2")
segments <- st_read("shp/traffic/traffic.shp") # all st_* functions are from the sf package
segments$id <- 1:nrow(segments) # assign a unique identifier for each segment
crashes <- list()
for(year in as.character(2012:2016)) {
crashes[[year]] <- fread(paste0("data/Statewide_", year, "/CRASH_", year, "_Statewide.csv"))
}
crashes <- rbindlist(crashes)
crashes <- crashes[ILLUMINATION %in% c(2, 3)]
crashes[ILLUMINATION == 2, crash_lighting := "unlit"]
crashes[ILLUMINATION == 3, crash_lighting := "lit"]
crashes <- crashes[ILLUMINATION %in% c(2, 3)]
crashes <- st_as_sf(crashes, coords = c("DEC_LONG", "DEC_LAT"), crs = 4326) # create sf spatial object
crashes <- st_transform(crashes, 2272) # reproject data to EPSG:2272
# buffer road segments by 50 feet
segment_buffer <- st_buffer(segments, dist = 50, endCapStyle = "FLAT")
# spatially join crashes to road segment data to crashes
joined <- st_join(segment_buffer, crashes, left = FALSE) # inner join
segment_crashes <- as.data.table(st_drop_geometry(joined)) # convert sf to data.table
# count total crashes by segment
crash_counts <- segment_crashes[, .(total_crash = sum(.N)), by = id]
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting)]
library(sf) # spatial data manipulation
library(data.table) # fast data manipulation
library("ggplot2")
segments <- st_read("shp/traffic/traffic.shp") # all st_* functions are from the sf package
segments$id <- 1:nrow(segments) # assign a unique identifier for each segment
crashes <- read.csv(file = 'data/Statewide_2018/CRASH_2018_Statewide.csv')
crashes <- crashes[which(crashes$ILLUMINATION %in% c(2, 3)),]
crashes$crash_lighting = ifelse(crashes$ILLUMINATION == 2,"nolight" , "light")
naLongRowsToRemove = which(is.na(crashes$DEC_LONG))
crashes <- crashes[-naLongRowsToRemove,]
naLatRowsToRemove = which(is.na(crashes$DEC_LAT))
crashes <- crashes[-naLatRowsToRemove,]
crashes <- st_as_sf(crashes, coords = c("DEC_LONG", "DEC_LAT"), crs = 4326) # create sf spatial object
crashes <- st_transform(crashes, 2272) # reproject data to EPSG:2272
# buffer road segments by 50 feet
segment_buffer <- st_buffer(segments, dist = 50, endCapStyle = "FLAT")
# spatially join crashes to road segment data to crashes
joined <- st_join(segment_buffer, crashes, left = FALSE) # inner join
segment_crashes <- as.data.table(st_drop_geometry(joined)) # convert sf to data.table
# count total crashes by segment
crash_counts <- segment_crashes[, .(total_crash = sum(.N)), by = id]
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting)]
counts$crash_count
plot(counts$id[which(counts$crash_lighting=="light")],counts$crash_count[which(counts$crash_lighting=="light")],
xlab = "Math Value", ylab = "Income",
main="Math Score and Income", col="red"
)
par(new=TRUE)
plot(counts$id[which(counts$crash_lighting=="nolight")],counts$crash_count[which(counts$crash_lighting=="nolight")],
xlab = "Math Value", ylab = "Income",
main="Math Score and Income", col="blue"
)
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
View(segments)
library(sf) # spatial data manipulation
library(data.table) # fast data manipulation
library("ggplot2")
segments <- st_read("shp/traffic/traffic.shp") # all st_* functions are from the sf package
segments$id <- 1:nrow(segments) # assign a unique identifier for each segment
crashes <- read.csv(file = 'data/Statewide_2016/CRASH_2016_Statewide.csv')
crashes <- crashes[which(crashes$ILLUMINATION %in% c(2, 3)),]
crashes$crash_lighting = ifelse(crashes$ILLUMINATION == 2,"nolight" , "light")
naLongRowsToRemove = which(is.na(crashes$DEC_LONG))
crashes <- crashes[-naLongRowsToRemove,]
naLatRowsToRemove = which(is.na(crashes$DEC_LAT))
crashes <- crashes[-naLatRowsToRemove,]
crashes <- st_as_sf(crashes, coords = c("DEC_LONG", "DEC_LAT"), crs = 4326) # create sf spatial object
crashes <- st_transform(crashes, 2272) # reproject data to EPSG:2272
# buffer road segments by 50 feet
segment_buffer <- st_buffer(segments, dist = 50, endCapStyle = "FLAT")
# spatially join crashes to road segment data to crashes
joined <- st_join(segment_buffer, crashes, left = FALSE) # inner join
segment_crashes <- as.data.table(st_drop_geometry(joined)) # convert sf to data.table
# count total crashes by segment
crash_counts <- segment_crashes[, .(total_crash = sum(.N)), by = id]
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting)]
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
library(sf) # spatial data manipulation
library(data.table) # fast data manipulation
library("ggplot2")
segments <- st_read("shp/traffic/traffic.shp") # all st_* functions are from the sf package
segments$id <- 1:nrow(segments) # assign a unique identifier for each segment
crashes <- read.csv(file = 'data/Statewide_2018/CRASH_2018_Statewide.csv')
crashes <- crashes[which(crashes$ILLUMINATION %in% c(2, 3)),]
crashes$crash_lighting = ifelse(crashes$ILLUMINATION == 2,"nolight" , "light")
naLongRowsToRemove = which(is.na(crashes$DEC_LONG))
crashes <- crashes[-naLongRowsToRemove,]
naLatRowsToRemove = which(is.na(crashes$DEC_LAT))
crashes <- crashes[-naLatRowsToRemove,]
crashes <- st_as_sf(crashes, coords = c("DEC_LONG", "DEC_LAT"), crs = 4326) # create sf spatial object
crashes <- st_transform(crashes, 2272) # reproject data to EPSG:2272
# buffer road segments by 50 feet
segment_buffer <- st_buffer(segments, dist = 50, endCapStyle = "FLAT")
# spatially join crashes to road segment data to crashes
joined <- st_join(segment_buffer, crashes, left = FALSE) # inner join
segment_crashes <- as.data.table(st_drop_geometry(joined)) # convert sf to data.table
# count total crashes by segment
crash_counts <- segment_crashes[, .(total_crash = sum(.N)), by = id]
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting)]
counts$crash_count
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(recount$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
recount <- counts[which(counts$crash_count<20),]
qplot(data =recount , geom="boxplot",x=crash_lighting, y=as.integer(recount$crash_count),
xlab = "High Income School District", ylab = "Math Score",
main="Math Score In Relatively High And Low Income School District",
)
View(crash_counts)
View(counts)
View(segment_crashes)
View(segment_crashes)
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting,DLY_VMT)]
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
# count total crashes by segment
crash_counts <- segment_crashes[, .(total_crash = sum(.N)), by = id]
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting,( DLY_VMT* 365 / 1000000))]
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting, DLY_VMT)]
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
ggplot(counts, aes(x = DLY_VMT, y = crash_count, xlab="VMT(total annual miles of vehicle travel divided by the total population)", color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
ggplot(counts, aes(x = DLY_VMT, y = crash_count, xlab("VMT(total annual miles of vehicle travel divided by the total population)"), color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
ggplot(counts,xlab("VMT(total annual miles of vehicle travel divided by the total population)"), aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
ggplot(counts,xlab="VMT(total annual miles of vehicle travel divided by the total population)", aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
ggplot(counts,xlab="VMT(total)", aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")
ggplot(counts,xlab="VMT(total)", aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) + ggtitle("Crash Count vs. VMT")+labs(x = "New x label")
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting))
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Crash Count vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)")
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")
library(sf)
library(data.table)
library("ggplot2")
segments <- st_read("shp/traffic/traffic.shp") # reed traffic shape file
segments$id <- 1:nrow(segments) # assign a unique id for each segment
crashes <- read.csv(file = 'data/Statewide_2018/CRASH_2018_Statewide.csv') # read crashing data
# Filter to only crashes rows with "2 - Dark - No Street Lights" or "3 - Dark - Street Lights"
crashes <- crashes[which(crashes$ILLUMINATION %in% c(2, 3)),]
crashes$crash_lighting = ifelse(crashes$ILLUMINATION == 2,"nolight" , "light")
# Remove na rows
naLongRowsToRemove = which(is.na(crashes$DEC_LONG))
crashes <- crashes[-naLongRowsToRemove,]
naLatRowsToRemove = which(is.na(crashes$DEC_LAT))
crashes <- crashes[-naLatRowsToRemove,]
crashes <- st_as_sf(crashes, coords = c("DEC_LONG", "DEC_LAT"), crs = 4326) # create sf spatial object
crashes <- st_transform(crashes, 2272) # reproject data to EPSG:2272
# buffer road segments by 50 feet
segment_buffer <- st_buffer(segments, dist = 50, endCapStyle = "FLAT")
# join crashes to road segment data
joined <- st_join(segment_buffer, crashes, left = FALSE)
# convert sf to data.table
segment_crashes <- as.data.table(st_drop_geometry(joined))
# make a integration
counts <- segment_crashes[, .(crash_count = .N), by = .(id, crash_lighting, DLY_VMT)]
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 0.6) +
ggtitle("Total Crash vs. VMT") +
labs(x = "Road Segment ID") +
labs(Y = "Total Crash for Each Segment")
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 0.6) +
ggtitle("Total Crash vs. VMT") +
labs(x = "Road Segment ID") +
labs(Y = "Total Crash for Each Segment")
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 0.6) +
ggtitle("Total Crash vs. VMT") +
labs(x = "Road Segment ID") +
labs(Y = "Total Crash for Each Segment"))
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 0.6) +
ggtitle("Total Crash vs. VMT") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment")
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 0.6) +
ggtitle("Total Crash vs. VMT") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.5, size = 0.7) +
ggtitle("Total Crash vs. VMT") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Total Crash vs. VMT") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
qplot(data =counts, geom="boxplot",x= crash_lighting, y=as.integer(recount$crash_count),
xlab = "Illumination Condition", ylab = "Total Crash",
main="Light vs. No Light",
)
qplot(data =counts, geom="boxplot",x= crash_lighting, y=as.integer(counts$crash_count),
xlab = "Illumination Condition", ylab = "Total Crash",
main="Light vs. No Light",
)
ggplot(counts, aes(x = DLY_VMT, y = crash_count)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")
ggplot(counts, aes(x = DLY_VMT, y = crash_count)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")+
scale_x_continuous(labels = comma)
options(scipen = 99) # disable scientific notation
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = DLY_VMT, y = crash_count)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")+
scale_x_continuous(labels = comma)
ggplot(counts, aes(x = DLY_VMT, y = crash_count)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")+
qplot(data =counts, geom="boxplot",x= crash_lighting, y=as.integer(counts$crash_count),
xlab = "Illumination Condition", ylab = "Total Crash",
main="Light vs. No Light",
)
options(scipen = 10000) # disable scientific notation
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = DLY_VMT, y = crash_count)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")+
qplot(data =counts, geom="boxplot",x= crash_lighting, y=as.integer(counts$crash_count),
xlab = "Illumination Condition", ylab = "Total Crash",
main="Light vs. No Light",
)
ggplot(counts, aes(x = DLY_VMT, y = crash_count)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")
ggplot(counts, aes(x = DLY_VMT, y = crash_count)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")
ggplot(counts, aes(x = id, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = id, y = crash_count)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = id, y = crash_count)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = DLY_VMT, y = crash_count,color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(Y = "Total Crash of Each Segment)")
ggplot(counts, aes(x = id, y = crash_count)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = DLY_VMT, y = crash_count,color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash of Each Segment)")
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment")
ggplot(counts, aes(x = DLY_VMT, y = crash_count,color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash of Each Segment)") +
theme(legend.position="top")+
theme(legend.title=element_blank())
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count , color = "red")) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count , color = "black")) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count , color = "All")) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())
ggplot(counts, aes(x = DLY_VMT, y = crash_count,color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash of Each Segment)") +
theme(legend.title=element_blank())
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count , color = "All")) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())+
theme(legend.position="bottom")
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count , color = "All")) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())+
theme(legend.position="top")
ggplot(counts, aes(x = DLY_VMT, y = crash_count,color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash of Each Segment)") +
theme(legend.title=element_blank())+
theme(legend.position="top")
# Road Crashing Distribution
ggplot(counts, aes(x = id, y = crash_count , color = "All")) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Road Crashing Distribution") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash for Each Segment") +
theme(legend.title=element_blank())+
theme(legend.position="top")
ggplot(counts, aes(x = id, y = crash_count,color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash of Each Segment)") +
theme(legend.title=element_blank())+
theme(legend.position="top")
ggplot(counts, aes(x = id, y = crash_count,color = crash_lighting)) +
geom_point(alpha = 0.6, size = 0.5) +
ggtitle("Light vs. No Light") +
labs(x = "Road Segment ID") +
labs(y = "Total Crash of Each Segment)") +
theme(legend.title=element_blank())+
theme(legend.position="top")
qplot(data =counts, geom="boxplot",x= crash_lighting, y=as.integer(counts$crash_count),
xlab = "Illumination Condition", ylab = "Total Crash",
main="Light vs. No Light",
)
light_segment_crashes <- counts$crash_count[which(counts$crash_lighting=="light")]
light_segment_crashes
nolight_segment_crashes <- counts$crash_count[which(counts$crash_lighting=="nolight")]
nolight_segment_crashes
# doing t.test and find the p-value
t.test(light_segment_crashes, nolight_segment_crashes)
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 1) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")
ggplot(counts, aes(x = DLY_VMT, y = crash_count, color = crash_lighting)) +
geom_point(alpha = 0.65, size = 0.5) +
ggtitle("Total Crash vs. VMT") +
labs(x = "VMT(total annual miles of vehicle travel divided by the total population)") +
labs(Y = "Total Crash of Each Segment)")+
theme(legend.title=element_blank())+
theme(legend.position="top")
# doing t.test and find the p-value
t.test(light_segment_crashes, nolight_segment_crashes)
